unit Controllers.EnderecoController;

interface

uses
  Infra.Api.EnderecoApi;

type
  TEnderecoController = class
  private
    FApi: TEnderecoApi;
  public
    constructor Create;
    destructor Destroy; override;

    procedure DispararViaCEP;

    function StatusViaCEP: string;
    function VerificaDispararCEP: Boolean;
    function ViaCepProcessados: Integer;
    function ViaCepTotal: Integer;

    function GetStatusViaCEP : string;
    function GetViaCepProcessados : Integer;
    function GetViaCepTotal : Integer;

    property ViaCEPStatus: string read GetStatusViaCEP;
    property ViaCepProcessados: Integer read GetViaCepProcessados;
    property ViaCepTotal: Integer read GetViaCepTotal;

  end;

implementation

uses System.SyncObjs;

{ TEnderecoController }

constructor TEnderecoController.Create;
begin
  inherited Create;
  FApi := TEnderecoApi.Create;
end;

destructor TEnderecoController.Destroy;
begin
  FApi.Free;
  inherited;
end;

procedure TEnderecoController.DispararViaCEP;
begin
  FApi.DispararViaCEP;
end;

function TEnderecoController.GetStatusViaCEP: string;
begin
  Result := FApi.StatusViaCEP;
end;

function TEnderecoController.GetViaCepProcessados: Integer;
begin
  Result := FApi.ViaCEP_Processados;
end;

function TEnderecoController.GetViaCepTotal: Integer;
begin
  Result := FApi.ViaCEP_Total;
end;

function TEnderecoController.VerificaDispararCEP: Boolean;
begin
  Result := FApi.VerificaDispararCEP;
end;

end.

